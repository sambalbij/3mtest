<div class="row row-eq-height">
    <div class="col-md-12">
        <h1>{{vm.event.name}}</h1>
        <p>Spendings per participant</p>
    </div>
</div>

<div class="row row-eq-height">
    <!-- First part: grand total per participant-->
    <div class="col-md-6">
        <h2>Participant spendings</h2>
        <label>Test expand: <input type="checkbox" ng-model="expanded" ng-init="expanded=false" /></label> <!-- -->
        <p>Click arrow to expand</p>
        <table class="table">
            <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th class="text-right">Paid</th>
                <th class="text-right">Still to pay</th>
                <th></th>
            </tr>
            </thead>
            <!-- <tr ng-repeat="participant in vm.event.participants"> <!-- -->
            <tr ng-repeat = "item in vm.bill.partipantToPays"> <!-- -->
                <td>{{item.participant.id}}</td>
                <td>{{item.participant.name}}</td>
                <td class="text-right">{{item.payed}}</td>
                <td class="text-right">{{item.toPay}}</td>
                <td>
                    <button type="button" class="btn btn-link">
                        <span ng-if="!expanded" class="glyphicon glyphicon-triangle-bottom" ng-click="vm.show_participant_bill(vm.event.id)" aria-hidden="true"></span>
                        <span ng-if="expanded" class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span>
                    </button>

                </td>
            </tr>
        </table>

    </div>

    <div  ng-if="expanded" class="col col-md-6">
        <!-- TODO REMOVE HARDCODED ID 1!! -->
        <h2>Specification for {{vm.bill.partipantToPays[1].participant.name}}</h2>
        <p>Useful description</p>
        <!-- <h3 ng-repeat="billItem in vm.bill.partipantToPays[1]">{{billItem}}</h3> -->
        <table class = "table">
            <thead>
            <tr>
                <th>Description</th>
                <th class="text-right">Cost</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="rep in vm.bill.partipantToPays[1].billItems">
                <td>{{rep.description}}</td>
                <td class="text-right">{{rep.cost}}</td>
            </tr>
            </tbody>

        </table>

    </div>
</div>
